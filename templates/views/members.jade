extends ../layouts/default
include ../mixins/circle
include ../mixins/modal
block css
    link(rel='stylesheet', type='text/css', href='/lib/ihover.css')
block content
    .row.neo-members
        .col.l12
            +circle(teachers, '教师',['neo-member-teacher', 'effect13'])
        
        .col.l12
            +circle(students, '在读', ['neo-member-student','effect13'])
        
        .col.l12
            +circle(graduated, '毕业', ['neo-member-graduated','effect13'])
block modal
    +modal('memberModal')
block js
     script(type='text/javascript').
        $(document).ready(function(){
                    $('a.neo-member').click(function () {
                        //从元素返回数据
                        var id=$(this).data('member');
                        //从数据库中获取数据并给回调函数处理
                        $.getJSON('/api/member/'+id,function(res){
                            if(res.status == 'ok'){
                                var data = res.data;
                                var memberDiv=$('#memberModal');
                                memberDiv.find('div#bio').html(data.bio.html);
                                memberDiv.find('a.modal-action#weibo').attr("href",data.weibo);	
                                memberDiv.find('a.modal-action#website').attr("href",data.website);	
                                
                            }
                        });
                    });
        });
        